---
title: 哈希算法
tags:
  - 算法
categories:
  - 数据结构与算法
date: 2019-07-08 11:03:18
photo:
---

{% note default %}
其实散列表中的散列函数就是哈希算法的一个应用。
{% endnote %}

<!-- more -->

## what
哈希算法是什么呢，主要就是散列函数那些东西。
重点是：
- 能将任意长度字符串转换为固定长度
- 相同的key得到相同的hash(key)
- 不同的key得到不同的hash(key)，当然这是理想状态下

因为散列冲突是无法避免的，组合数学中的抽屉原理：因为是转换成固定长度，所以hash值的范围是有限的。

## 一致性哈希
首先，为什么会有一致性哈希的提出呢。
当我们的哈希函数应用到分布式系统当中时：对数据进行哈希，哈希值再对服务器个数取模，就可以得到这个数据该放在哪个机器上。
但是，如果数据量增多，我们需要对机器数量进行扩容时，前面在基于开放地址法的散列表扩容讲过，同样的，机器扩容也会涉及到数据搬移和**重新数据的计算哈希值**，因为是对机器个数取模。那么每次扩容会涉及到**大量的**数据的重新计算哈希值和数据搬移。就会引发“崩溃”。
{% note success %}
于是一致性哈希就出来了，我们不再是对机器个数取模，而是根据哈希值的区间：[0,max]，来划分m个小区间，把每个小区间分配给各个机器，这样，当机器扩容时，我们只需要划分一点区间给新机器就行，而不会涉及到大量的数据重新计算哈希值和数据搬移了。
{% endnote %}













--- 

<div align="center">
	**本文作者**：王仁松
	仅供本人记录学习过程与学习交流之用，未经同意，禁止转载！
</div>